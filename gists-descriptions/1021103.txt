{
  "forks": [

  ],
  "user": {
    "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
    "login": "mbostock",
    "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
    "url": "https://api.github.com/users/mbostock",
    "id": 230541
  },
  "history": [
    {
      "user": {
        "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
        "login": "mbostock",
        "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/mbostock",
        "id": 230541
      },
      "committed_at": "2011-06-12T00:16:38Z",
      "version": "e0cb19e788e6c5dc58a7a8dbc011911fe34c5f2e",
      "url": "https://api.github.com/gists/1021103/e0cb19e788e6c5dc58a7a8dbc011911fe34c5f2e",
      "change_status": {
        "total": 2,
        "additions": 1,
        "deletions": 1
      }
    },
    {
      "user": {
        "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
        "login": "mbostock",
        "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/mbostock",
        "id": 230541
      },
      "committed_at": "2011-06-12T00:09:39Z",
      "version": "686be3f3bb71eb62c8c559b94b2dd6c9a723f5fe",
      "url": "https://api.github.com/gists/1021103/686be3f3bb71eb62c8c559b94b2dd6c9a723f5fe",
      "change_status": {
        "total": 2,
        "additions": 1,
        "deletions": 1
      }
    },
    {
      "user": {
        "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
        "login": "mbostock",
        "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/mbostock",
        "id": 230541
      },
      "committed_at": "2011-06-12T00:08:53Z",
      "version": "f4a81d6a50291badcf88beaddd602ae93ca3ace5",
      "url": "https://api.github.com/gists/1021103/f4a81d6a50291badcf88beaddd602ae93ca3ace5",
      "change_status": {
        "total": 4,
        "additions": 2,
        "deletions": 2
      }
    },
    {
      "user": {
        "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
        "login": "mbostock",
        "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/mbostock",
        "id": 230541
      },
      "committed_at": "2011-06-12T00:07:24Z",
      "version": "1ec6f4169ccbeb4e8bfb696f3295a6e18820abd3",
      "url": "https://api.github.com/gists/1021103/1ec6f4169ccbeb4e8bfb696f3295a6e18820abd3",
      "change_status": {
        "total": 2,
        "additions": 1,
        "deletions": 1
      }
    },
    {
      "user": {
        "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
        "login": "mbostock",
        "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/mbostock",
        "id": 230541
      },
      "committed_at": "2011-06-12T00:06:22Z",
      "version": "4e8d67c9c70ccc2f134037636c1644e0b8576ce9",
      "url": "https://api.github.com/gists/1021103/4e8d67c9c70ccc2f134037636c1644e0b8576ce9",
      "change_status": {
        "total": 2,
        "additions": 1,
        "deletions": 1
      }
    },
    {
      "user": {
        "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
        "login": "mbostock",
        "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/mbostock",
        "id": 230541
      },
      "committed_at": "2011-06-12T00:05:55Z",
      "version": "6bc1ebe10c0d66ec1f553b0af05a2238757a3ed8",
      "url": "https://api.github.com/gists/1021103/6bc1ebe10c0d66ec1f553b0af05a2238757a3ed8",
      "change_status": {
        "total": 8,
        "additions": 3,
        "deletions": 5
      }
    },
    {
      "user": {
        "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
        "login": "mbostock",
        "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/mbostock",
        "id": 230541
      },
      "committed_at": "2011-06-12T00:04:33Z",
      "version": "90f75d5e22cf6f84c00bae87dedbc574e9b60501",
      "url": "https://api.github.com/gists/1021103/90f75d5e22cf6f84c00bae87dedbc574e9b60501",
      "change_status": {
        "total": 5,
        "additions": 4,
        "deletions": 1
      }
    },
    {
      "user": {
        "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
        "login": "mbostock",
        "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/mbostock",
        "id": 230541
      },
      "committed_at": "2011-06-12T00:03:31Z",
      "version": "a773ef9c51d5c836a919329494e0754423b2ee8f",
      "url": "https://api.github.com/gists/1021103/a773ef9c51d5c836a919329494e0754423b2ee8f",
      "change_status": {
        "total": 2,
        "additions": 1,
        "deletions": 1
      }
    },
    {
      "user": {
        "gravatar_id": "005a27e09fe946ebef64bf4d134efc0a",
        "login": "mbostock",
        "avatar_url": "https://secure.gravatar.com/avatar/005a27e09fe946ebef64bf4d134efc0a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/mbostock",
        "id": 230541
      },
      "committed_at": "2011-06-12T00:00:36Z",
      "version": "b864d29d46ee9072f1504c75ca7bd88e3d3ee5ed",
      "url": "https://api.github.com/gists/1021103/b864d29d46ee9072f1504c75ca7bd88e3d3ee5ed",
      "change_status": {
        "total": 218,
        "additions": 218,
        "deletions": 0
      }
    }
  ],
  "description": "Superformula Explorer",
  "comments": 0,
  "created_at": "2011-06-12T00:00:36Z",
  "git_pull_url": "git://gist.github.com/1021103.git",
  "public": true,
  "html_url": "https://gist.github.com/1021103",
  "git_push_url": "git@gist.github.com:1021103.git",
  "files": {
    "index.html": {
      "type": "text/html",
      "filename": "index.html",
      "raw_url": "https://gist.github.com/raw/1021103/56127c8be24f797258123bb5a143620d7c4b9762/index.html",
      "size": 3481,
      "content": "<!DOCTYPE html>\n  <html>\n  <head>\n    <title>Superformula</title>\n    <script type=\"text/javascript\" src=\"http://mbostock.github.com/d3/d3.js\"></script>\n    <script type=\"text/javascript\" src=\"superformula.js\"></script>\n    <style type=\"text/css\">\n\npath {\n  stroke-width: 1.5px;\n  stroke: #666;\n  fill: #ddd;\n}\n\n#controls {\n  position: absolute;\n  width: 240px;\n  font: 10px sans-serif;\n}\n\n#controls span, #controls label {\n  position: relative;\n  top: -5px;\n  padding: 5px;\n  display: inline-block;\n  width: 20px;\n}\n\n#controls button {\n  font: 10px sans-serif;\n  padding: 5px;\n  width: 70px;\n}\n\n    </style>\n  </head>\n  <body>\n    <div id=\"controls\"></div>\n    <script type=\"text/javascript\">\n\nvar types = {\n  asterisk: {m: 12, n1: .3, n2: 0, n3: 10, a: 1, b: 1},\n  bean: {m: 2, n1: 1, n2: 4, n3: 8, a: 1, b: 1},\n  butterfly: {m: 3, n1: 1, n2: 6, n3: 2, a: .6, b: 1},\n  circle: {m: 4, n1: 2, n2: 2, n3: 2, a: 1, b: 1},\n  clover: {m: 6, n1: .3, n2: 0, n3: 10, a: 1, b: 1},\n  cloverFour: {m: 8, n1: 10, n2: -1, n3: -8, a: 1, b: 1},\n  cross: {m: 8, n1: 1.3, n2: .01, n3: 8, a: 1, b: 1},\n  diamond: {m: 4, n1: 1, n2: 1, n3: 1, a: 1, b: 1},\n  drop: {m: 1, n1: .5, n2: .5, n3: .5, a: 1, b: 1},\n  ellipse: {m: 4, n1: 2, n2: 2, n3: 2, a: 9, b: 6},\n  gear: {m: 19, n1: 100, n2: 50, n3: 50, a: 1, b: 1},\n  heart: {m: 1, n1: .8, n2: 1, n3: -8, a: 1, b: .18},\n  heptagon: {m: 7, n1: 1000, n2: 400, n3: 400, a: 1, b: 1},\n  hexagon: {m: 6, n1: 1000, n2: 400, n3: 400, a: 1, b: 1},\n  malteseCross: {m: 8, n1: .9, n2: .1, n3: 100, a: 1, b: 1},\n  pentagon: {m: 5, n1: 1000, n2: 600, n3: 600, a: 1, b: 1},\n  rectangle: {m: 4, n1: 100, n2: 100, n3: 100, a: 2, b: 1},\n  roundedStar: {m: 5, n1: 2, n2: 7, n3: 7, a: 1, b: 1},\n  square: {m: 4, n1: 100, n2: 100, n3: 100, a: 1, b: 1},\n  star: {m: 5, n1: 30, n2: 100, n3: 100, a: 1, b: 1},\n  triangle: {m: 3, n1: 100, n2: 200, n3: 200, a: 1, b: 1}\n};\n\nvar format = d3.format(\".4n\"),\n    scale = d3.scale.linear().domain([-10, 20, 1000]).range([0, 800, 1000]);\n\nvar svg = d3.select(\"body\").append(\"svg:svg\")\n    .attr(\"width\", 960)\n    .attr(\"height\", 500);\n\nvar shape = superformula()\n    .type(\"asterisk\")\n    .size(100000)\n    .segments(3600);\n\nvar path = svg.append(\"svg:path\")\n    .attr(\"class\", \"big\")\n    .attr(\"transform\", \"translate(480,250)\")\n    .attr(\"d\", shape);\n\nvar control = d3.select(\"#controls\").selectAll(\"div\")\n    .data(d3.entries(types.asterisk))\n  .enter().append(\"div\")\n    .attr(\"id\", function(d) { return d.key; });\n\ncontrol.append(\"label\")\n    .text(function(d) { return d.key; });\n\ncontrol.append(\"input\")\n    .attr(\"type\", \"range\")\n    .attr(\"max\", 1000)\n    .attr(\"min\", 0)\n    .property(\"value\", function(d) { return scale(d.value); })\n    .on(\"change\", function(d) {\n      var v = scale.invert(this.value);\n      path.attr(\"d\", shape.param(d.key, v));\n      d3.select(this.nextSibling).text(format(v));\n    });\n\ncontrol.append(\"span\")\n    .text(function(d) { return format(d.value); });\n\nvar types = d3.select(\"#controls\").append(\"div\").selectAll(\"button\")\n    .data(d3.entries(types))\n  .enter().append(\"button\")\n    .text(function(d) { return d.key; })\n    .on(\"click\", function(d) {\n      for (var param in d.value) {\n        var control = d3.select(\"#\" + param);\n        control.select(\"input\").property(\"value\", scale(d.value[param]));\n        control.select(\"span\").text(format(d.value[param]));\n        shape.param(param, d.value[param]);\n      }\n      path.attr(\"d\", shape);\n    });\n\n    </script>\n  </body>\n</html>\n",
      "language": "HTML"
    },
    "superformula.js": {
      "type": "application/javascript",
      "filename": "superformula.js",
      "raw_url": "https://gist.github.com/raw/1021103/cebb25cf6b5f449bc8cff88a504111203002eca2/superformula.js",
      "size": 3227,
      "content": "(function() {\n  var _symbol = d3.svg.symbol(),\n      _line = d3.svg.line();\n\n  superformula = function() {\n    var type = _symbol.type(),\n        size = _symbol.size(),\n        segments = size,\n        params = {};\n\n    function superformula(d, i) {\n      var n, p = _superformulaTypes[type.call(this, d, i)];\n      for (n in params) p[n] = params[n].call(this, d, i);\n      return _superformulaPath(p, segments.call(this, d, i), Math.sqrt(size.call(this, d, i)));\n    }\n\n    superformula.type = function(x) {\n      if (!arguments.length) return type;\n      type = d3.functor(x);\n      return superformula;\n    };\n\n    superformula.param = function(name, value) {\n      if (arguments.length < 2) return params[name];\n      params[name] = d3.functor(value);\n      return superformula;\n    };\n\n    // size of superformula in square pixels\n    superformula.size = function(x) {\n      if (!arguments.length) return size;\n      size = d3.functor(x);\n      return superformula;\n    };\n\n    // number of discrete line segments\n    superformula.segments = function(x) {\n      if (!arguments.length) return segments;\n      segments = d3.functor(x);\n      return superformula;\n    };\n\n    return superformula;\n  };\n\n  function _superformulaPath(params, n, diameter) {\n    var i = -1,\n        dt = 2 * Math.PI / n,\n        t,\n        r = 0,\n        x,\n        y,\n        points = [];\n\n    while (++i < n) {\n      t = params.m * (i * dt - Math.PI) / 4;\n      t = Math.pow(Math.abs(Math.pow(Math.abs(Math.cos(t) / params.a), params.n2)\n        + Math.pow(Math.abs(Math.sin(t) / params.b), params.n3)), -1 / params.n1);\n      if (t > r) r = t;\n      points.push(t);\n    }\n\n    r = diameter * Math.SQRT1_2 / r;\n    i = -1; while (++i < n) {\n      x = (t = points[i] * r) * Math.cos(i * dt);\n      y = t * Math.sin(i * dt);\n      points[i] = [Math.abs(x) < 1e-6 ? 0 : x, Math.abs(y) < 1e-6 ? 0 : y];\n    }\n\n    return _line(points) + \"Z\";\n  }\n\n  var _superformulaTypes = {\n    asterisk: {m: 12, n1: .3, n2: 0, n3: 10, a: 1, b: 1},\n    bean: {m: 2, n1: 1, n2: 4, n3: 8, a: 1, b: 1},\n    butterfly: {m: 3, n1: 1, n2: 6, n3: 2, a: .6, b: 1},\n    circle: {m: 4, n1: 2, n2: 2, n3: 2, a: 1, b: 1},\n    clover: {m: 6, n1: .3, n2: 0, n3: 10, a: 1, b: 1},\n    cloverFour: {m: 8, n1: 10, n2: -1, n3: -8, a: 1, b: 1},\n    cross: {m: 8, n1: 1.3, n2: .01, n3: 8, a: 1, b: 1},\n    diamond: {m: 4, n1: 1, n2: 1, n3: 1, a: 1, b: 1},\n    drop: {m: 1, n1: .5, n2: .5, n3: .5, a: 1, b: 1},\n    ellipse: {m: 4, n1: 2, n2: 2, n3: 2, a: 9, b: 6},\n    gear: {m: 19, n1: 100, n2: 50, n3: 50, a: 1, b: 1},\n    heart: {m: 1, n1: .8, n2: 1, n3: -8, a: 1, b: .18},\n    heptagon: {m: 7, n1: 1000, n2: 400, n3: 400, a: 1, b: 1},\n    hexagon: {m: 6, n1: 1000, n2: 400, n3: 400, a: 1, b: 1},\n    malteseCross: {m: 8, n1: .9, n2: .1, n3: 100, a: 1, b: 1},\n    pentagon: {m: 5, n1: 1000, n2: 600, n3: 600, a: 1, b: 1},\n    rectangle: {m: 4, n1: 100, n2: 100, n3: 100, a: 2, b: 1},\n    roundedStar: {m: 5, n1: 2, n2: 7, n3: 7, a: 1, b: 1},\n    square: {m: 4, n1: 100, n2: 100, n3: 100, a: 1, b: 1},\n    star: {m: 5, n1: 30, n2: 100, n3: 100, a: 1, b: 1},\n    triangle: {m: 3, n1: 100, n2: 200, n3: 200, a: 1, b: 1}\n  };\n\n  superformulaTypes = d3.keys(_superformulaTypes);\n})();\n",
      "language": "JavaScript"
    },
    "readme.md": {
      "type": "text/plain",
      "filename": "readme.md",
      "raw_url": "https://gist.github.com/raw/1021103/e60b42c6e9803c6c1ac3676d472071cd7e115bde/readme.md",
      "size": 51,
      "content": "Built with [D3.js](http://mbostock.github.com/d3/).",
      "language": "Markdown"
    }
  },
  "updated_at": "2011-06-12T00:01:20Z",
  "url": "https://api.github.com/gists/1021103",
  "id": "1021103"
}
