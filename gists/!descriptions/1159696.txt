{
  "forks": [

  ],
  "user": {
    "gravatar_id": "ecff5a3cee4fad6c1a442aa97c88e57b",
    "login": "bewest",
    "avatar_url": "https://secure.gravatar.com/avatar/ecff5a3cee4fad6c1a442aa97c88e57b?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
    "url": "https://api.github.com/users/bewest",
    "id": 394179
  },
  "history": [
    {
      "user": {
        "gravatar_id": "ecff5a3cee4fad6c1a442aa97c88e57b",
        "login": "bewest",
        "avatar_url": "https://secure.gravatar.com/avatar/ecff5a3cee4fad6c1a442aa97c88e57b?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/bewest",
        "id": 394179
      },
      "version": "8263b9e34fea6a0c349bfaa549b50e52f6d7df65",
      "change_status": {
        "total": 5,
        "additions": 0,
        "deletions": 5
      },
      "url": "https://api.github.com/gists/1159696/8263b9e34fea6a0c349bfaa549b50e52f6d7df65",
      "committed_at": "2011-11-19T18:38:03Z"
    },
    {
      "user": {
        "gravatar_id": "ecff5a3cee4fad6c1a442aa97c88e57b",
        "login": "bewest",
        "avatar_url": "https://secure.gravatar.com/avatar/ecff5a3cee4fad6c1a442aa97c88e57b?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/bewest",
        "id": 394179
      },
      "version": "640f0413f7d9cbfe561460da69f399997350f5eb",
      "change_status": {
        "total": 163,
        "additions": 101,
        "deletions": 62
      },
      "url": "https://api.github.com/gists/1159696/640f0413f7d9cbfe561460da69f399997350f5eb",
      "committed_at": "2011-08-22T16:49:05Z"
    },
    {
      "user": {
        "gravatar_id": "ecff5a3cee4fad6c1a442aa97c88e57b",
        "login": "bewest",
        "avatar_url": "https://secure.gravatar.com/avatar/ecff5a3cee4fad6c1a442aa97c88e57b?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/bewest",
        "id": 394179
      },
      "version": "0552e0199ce69eb1fe71316887337af258f0663b",
      "change_status": {
        "total": 185,
        "additions": 185,
        "deletions": 0
      },
      "url": "https://api.github.com/gists/1159696/0552e0199ce69eb1fe71316887337af258f0663b",
      "committed_at": "2011-08-20T23:33:08Z"
    },
    {
      "user": {
        "gravatar_id": "ecff5a3cee4fad6c1a442aa97c88e57b",
        "login": "bewest",
        "avatar_url": "https://secure.gravatar.com/avatar/ecff5a3cee4fad6c1a442aa97c88e57b?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png",
        "url": "https://api.github.com/users/bewest",
        "id": 394179
      },
      "version": "78387aee827bee4b9d1d4b9f55176883e8ba6784",
      "change_status": {
        "total": 1,
        "additions": 1,
        "deletions": 0
      },
      "url": "https://api.github.com/gists/1159696/78387aee827bee4b9d1d4b9f55176883e8ba6784",
      "committed_at": "2011-08-20T21:36:31Z"
    }
  ],
  "git_push_url": "git@gist.github.com:1159696.git",
  "description": "d3 ",
  "html_url": "https://gist.github.com/1159696",
  "comments": 0,
  "created_at": "2011-08-20T21:36:31Z",
  "public": true,
  "files": {
    "README d3 blather": {
      "type": "text/plain",
      "filename": "README d3 blather",
      "raw_url": "https://gist.github.com/raw/1159696/b289d645daef025a2700d13a1a3add6e3bf5d42f/README d3 blather",
      "size": 54,
      "content": "Explore panning and zooming over time series using d3.",
      "language": null
    },
    "index.html": {
      "type": "text/html",
      "filename": "index.html",
      "raw_url": "https://gist.github.com/raw/1159696/765fd0e0b5ec8727d4fd5e0829fdb0b2810fa500/index.html",
      "size": 4973,
      "content": "<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\">\n    <title>Hexagons Test</title>\n    <script type=\"text/javascript\" src=\"https://raw.github.com/bewest/d3/bewest/d3.js\"></script>\n    <script type=\"text/javascript\" src=\"https://raw.github.com/bewest/d3/bewest/d3.behavior.js\"></script>\n    <script type=\"text/javascript\" src=\"https://raw.github.com/bewest/d3/bewest/d3.time.js\"></script>\n    <style type=\"text/css\">\nsvg {\n    border: solid 1px #aaa;\n    background: #eee;\n}\n\nrect.border {\n  fill: none;\n  stroke: red;\n}\nrect {\n    fill: lightsteelblue;\n    stroke: #000;\n    stroke-width: .5px;\n}\n\nrect.even {\n    fill: lightsteelblue;\n}\nrect.odd {\n    fill: #FACFCF;\n}\n\n.highlight {\n      fill: red;\n}\n    </style>\n  </head>\n  <body>\n    <script type=\"text/javascript\">\n// <![CDATA[\n\nvar w = 800,\n    h = 500,\n    padding = 0;\n    \nvar diameter = 50;\nvar tileSize = 256;\n\nvar offset = diameter / 2;\nvar data = [];\nvar index = 0;\n// X\nd3.range(0, w * 2,  diameter ).map(function(v1, i) {\n    // Y\n    d3.range(0, h, h).map(function(v2, j) {\n    console.log(['x', v1, i], ['y', v2, j]);\n        //var x = j % 2 ? v1 + offset : v1,\n        var x = v1,\n            y = v2;\n        data.push({\n            id: index++,\n            centroid: [x, y],\n            coordinates: [i, j, (i + j) * -1],\n            //customName: 'test',\n            visible: x >= padding && x <= w - padding && y >= padding && y <= h - padding\n        });\n    });\n});\n\n\n\nvar border = 10;\n\nvar svg = d3.select(\"body\")\n    .append(\"svg:svg\")\n    .attr(\"width\", w)\n    .attr(\"height\", h)\n    .attr(\"pointer-events\", \"all\");\n\nsvg.call(d3.behavior.zoom().on(\"zoom\", move));\n    \n    svg.append(\"svg:rect\")\n    .attr(\"x\", border)\n    .attr(\"y\", border)\n    .attr('width', w - (border*2))\n    .attr('height', h - (border*2))\n    .attr('class', 'border')\n    ;\n    \n    \nrender();\n\nfunction mouseover(d, i) {\n    d3.select(this)\n        .attr(\"class\", \"highlight\");\n}\n\nfunction mouseout(d, i) {\n    d3.select(this)\n        .attr(\"class\", i % 2 ? 'odd' : 'even');\n}\n\nfunction click(d, i) {\n    d.customName = Date.now();\n    console.log(\"click\", this, d, i);\n    d3.select(this)\n        .style(\"fill\", \"yellow\");\n}\n\nfunction removeClicked() {\n    svg.selectAll(\"path\")\n        .filter(function(d) { \n            return d.customName != 'test'; \n        })\n        .remove();\n}\n\nfunction move() {\n    var x = d3.event.translate[0],\n        y = d3.event.translate[1]\n    \n    console.log(x,y);\n    data.filter(function(d) {\n        return !d.visible \n            && d.centroid[0] + x >= padding \n            && d.centroid[0] + x <= w - padding \n            ;\n    /*\n            && d.centroid[1] + y >= padding \n            && d.centroid[1] + y <= h - padding;\n    */\n    }).map(function(d) {\n        console.log(x,y, d.centroid, d);\n        d.visible = true;\n        return d;\n    });\n    \n    data.filter(function(d) {\n        return d.visible \n            && (d.centroid[0] + x < padding \n                || d.centroid[0] + x > w - padding\n               )\n            ;\n    /*\n                || d.centroid[1] + y < padding \n                || d.centroid[1] + y > h - padding);\n    */\n    }).map(function(d) {\n        console.log(d.id, 'invisible');\n        d.visible = false;\n        return d;\n    });\n    /*\n    */\n    \n    render();\n    \n    // do the move\n    svg.selectAll(\"g\")\n        .attr(\"transform\", \"translate(\" + [x, 10] + \")\" /*+ \"scale(\" + d3.event.scale + \")\"*/);\n}\n\nfunction render() {\n    var grid = svg.selectAll(\"g\")\n        .data(\n            data.filter(function(d) { return d.visible; }), \n            function(d) { return d.id; }\n        );\n\n  var tile= grid.enter()\n        .sort(function(a, b) { return a.id - b.id; })\n        .append(\"svg:g\")\n        .attr('class', function(d, i) {\n          return i % 2 ? 'odd' : 'even';\n        })\n        ;\n    tile\n        .append(\"svg:rect\")\n        .attr('width', diameter)\n        .attr('height', diameter)\n        .attr('id', function(d, i) { return  \"g_\" + d.id; })\n        .attr('class', function(d, i) {\n          return i % 2 ? 'odd' : 'even';\n        })\n        .attr('x', function(d, i) {\n          return d.centroid[0];\n        })\n        .attr('y', function(d) {\n          // return 0;\n          return d.centroid[1];\n        })\n        .on(\"mouseover\", mouseover)\n        .on(\"mouseout\", mouseout)\n        .on(\"click\", click)\n        ;\n        tile\n          .append('svg:text').text(function(d,i) { return d.id; })\n          .attr('dy', '.71em')\n          .attr('stroke', 'black')\n          .attr('x', function(d, i) {\n            return d.centroid[0] + 6;\n            // return i * diameter + 6;\n          })\n          .attr('y', function(d, i) {\n            return d.centroid[1] + 6;\n            // return i * diameter + 6;\n          })\n          // .attr('y', '6')\n        //.attr('x', 10)\n        ;\n    \n    grid.exit().remove();\n}\n\n\n// ]]>\n    </script>\n  </body>\n</html>\n\n",
      "language": "HTML"
    }
  },
  "updated_at": "2011-08-20T21:36:31Z",
  "url": "https://api.github.com/gists/1159696",
  "id": "1159696",
  "git_pull_url": "git://gist.github.com/1159696.git"
}
